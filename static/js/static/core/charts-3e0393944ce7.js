// Generated by CoffeeScript 1.6.3
/*
  the basic workflow with charts is the following::

    on construction you pass the id of the element where you want to insert your charts to
    and the name of the class for your basic elements

  When you want to draw something you
*/


(function() {
  Denigma.Charts = (function() {
    /*
      abstract class that works with charts
    */

    Charts.prototype.node = void 0;

    Charts.prototype.svg = void 0;

    Charts.prototype.marginX = 10;

    Charts.prototype.marginY = 10;

    Charts.prototype.width = 0;

    Charts.prototype.height = 0;

    Charts.prototype.durNew = 400;

    function Charts(selector, subclass) {
      this.selector = selector;
      this.subclass = subclass;
      /*
        jquery-like selector string is passed,
        something like '#lifespan'
      */

      this.node = d3.select(this.selector);
      this.svg = this.node.append("svg");
    }

    Charts.prototype.select = function(data) {
      return this.svg.selectAll("svg." + this.subclass).data(data);
    };

    Charts.prototype.enter = function(data) {
      return this.select(data).enter();
    };

    Charts.prototype.exit = function(data) {
      return this.select(data).exit().remove();
    };

    Charts.prototype.setSize = function(w, h) {
      /*
        sets size of the main svg
      */

      this.width = w;
      this.height = h;
      return this.svg.attr("width", w).attr("height", h);
    };

    Charts.prototype.append = function(novel) {
      error("append is not implemented");
      return novel;
    };

    Charts.prototype.draw = function(data) {
      var novel, sel;
      sel = this.select(data);
      this.hide(sel.exit());
      novel = this.append(sel.enter());
      return this.update(sel);
    };

    Charts.prototype.hide = function(sel) {
      return sel.remove();
    };

    Charts.prototype.update = function(sel) {
      return error("update is not implemented");
    };

    return Charts;

  })();

}).call(this);
