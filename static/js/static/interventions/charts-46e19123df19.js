// Generated by CoffeeScript 1.6.3
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  Denigma.Charts = (function() {
    /*
      class to generate chars with d3js
    */

    Charts.prototype.node = void 0;

    Charts.prototype.svg = void 0;

    Charts.prototype.rects = void 0;

    Charts.prototype.labels = void 0;

    Charts.prototype.width = 0;

    Charts.prototype.height = 0;

    function Charts(selector) {
      this.selector = selector;
      this.node = d3.select(this.selector);
      this.svg = this.node.append("svg");
    }

    Charts.prototype.select = function(data) {
      return this.svg.selectAll("svg").data(data);
    };

    Charts.prototype.enter = function(data) {
      return this.select(data).enter().append("svg");
    };

    Charts.prototype.exit = function(data) {
      return this.select(data).exit();
    };

    Charts.prototype.setSize = function(w, h) {
      this.width = w;
      this.height = h;
      return this.svg.attr("width", w).attr("height", h);
    };

    return Charts;

  })();

  Denigma.LifeCharts = (function(_super) {
    __extends(LifeCharts, _super);

    LifeCharts.prototype.marginX = 10;

    LifeCharts.prototype.marginY = 10;

    function LifeCharts(selector) {
      this.makeOY = __bind(this.makeOY, this);
      this.dXmax = __bind(this.dXmax, this);
      this.dXmean = __bind(this.dXmean, this);
      this.dXmin = __bind(this.dXmin, this);
      LifeCharts.__super__.constructor.call(this, selector);
    }

    LifeCharts.prototype.dMin = function(d) {
      return d.test.get("min");
    };

    LifeCharts.prototype.dMean = function(d) {
      return d.test.get("mean");
    };

    LifeCharts.prototype.dMax = function(d) {
      return d.test.get("max");
    };

    LifeCharts.prototype.makeOX = function(data) {
      var fun;
      fun = this.dMax;
      return d3.scale.linear().domain([0, d3.max(data, fun)]).range([this.marginX, this.width - this.marginX]);
    };

    LifeCharts.prototype.dXmin = function(ox) {
      var _this = this;
      return function(d) {
        return ox(_this.dMin(d));
      };
    };

    LifeCharts.prototype.dXmean = function(ox) {
      var _this = this;
      return function(d) {
        return ox(_this.dMean(d));
      };
    };

    LifeCharts.prototype.dXmax = function(ox) {
      var _this = this;
      return function(d) {
        return ox(_this.dMax(d));
      };
    };

    LifeCharts.prototype.makeOY = function(data) {
      return this.oy = d3.scale.ordinal().domain().rangeBands([this.marginY, this.height - this.marginY]);
    };

    return LifeCharts;

  })(Denigma.Charts);

}).call(this);
